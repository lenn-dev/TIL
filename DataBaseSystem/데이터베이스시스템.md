<강의>
출석수업 
1	데이터베이스의 이해	- 데이터베이스 관련 용어 소개 - 데이터베이스 관리 시스템의 목적, 특징 구조	2~21
3	데이터베이스 모델링	- 데이터베이스 모델링 과정 - 데이터 모델 - ER 모델(개체 집합과 관계 집합) - ER 모델(ER 모델 제약조건, 약한관계, 재귀작 관계 등)	34~55	
5	관계형 모델 (1)	- 관계형 모델 - ER 모델 변환 - 관계대수	64~88
### 목차
1. [데이터베이스의 이해](#데이터베이스의-이해)
2. [데이터베이스 모델링](#데이터베이스-모델링)
3. [관계형 모델](#관계형-모델)
4. [SQL (1)](#SQL-1)
5. [SQL (2)](#SQL-2)
6. [SQL (3)](#SQL-3)
7. [정규화](#정규화)
8. [연습문제 풀이 1](#연습문제-풀이-1)
9. [데이터 저장과 파일](#데이터-저장과-파일)
10. [인덱싱](#인덱싱)
11. [해싱과 특수 인덱스](#해싱과-특수-인덱스)
12. [트랜잭션](#트랜잭션)
13. [동시성 제어](#동시성-제어)
14. [회복 시스템](#회복-시스템)
15. [연습문제 풀이 2](#연습문제-풀이-2)

# 데이터베이스의 이해
#### 학습목표
- 데이터베이스의 역할을 이해할 수 있다.
- 데이터베이스의 특징을 이해할 수 있다.
- 데이터베이스의 구성요소를 파악할 수 있다.

데이터단위 bit * 8 byte * 1024 kilobyte(KB) * 1024 megabyte(MB) * 1024 gigabyte(GB) * 1024 terabyte(TB) * 1024 petabyte(PB) * 1024 exabyte(EB) * 1024 zettabyte(ZB) * 1024 yottabyte(YB)

### 1. 데이터베이스의 역할
  #### 1. 데이터 관리의 필요
  데이터 =저장=> 데이터관리장치 =검색=> 필요데이터
  #### 2. 데이터 관리의 역사
<img width="534" alt="Screenshot 2024-02-21 at 12 18 54 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/dfb12bcc-2afd-45d8-b817-adb14c616e14">

  #### 3. 파일 처리 시스템 (file processing system):전통 데이터 관리 방식
  <img width="449" alt="Screenshot 2024-02-21 at 12 19 52 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/f73d6482-dd04-4210-86c5-89a72cb3f203">

- 업무별 애플리케이션이 __개별데이터__ 를 데이터 파일에 저장,관리하는 시스템 
- 발생가능문제 </br>
  * __데이터 종속 문제__ : </br>
    - 물리적 데이터 종속: 저장된 데이터가 특정 H/W(신규디스크) 상태가 변경되었을 때 곧바로 S/W(애플리케이션) 수정,보완이 어려워서 사용자의 접근이 제한됨 </br> (e.g> 디스크부족시, 신규디스크를 추가해서 사용자의 정보를 저장했을때 사용자는 신규디스크에 직접 접근할 수 없음</br>
    - 논리적 데이터 종속: 효율적 데이터 저장위해 저장방식을 논리적으로 바꾸었을때 기존 애플리케이션은 업무를 바로 수행하기 어려움. 별도 애플리케이션 수정,보완 요구됨</br>
  * __데이터 중복 문제__ :
    - 동일사항에 대해 중복데이터는 __일관성,보안성,경제성__ 측면에서 문제발생 (e.g>학적앱과 수강신청앱에서 같은 학생에 대한 중복된 정보가 있지만 호환되지 않아서 하나의 앱에서 수정시 다른 앱에 적용이 안됨, 또한 데이터정보가 많아질수록 수정,보완도 어렵고, 보안유지도 어려워짐)</br>
  * __무결성 훼손의 문제__
    - 실세계의 데이터는 데이터가 가질 수 있는 가능 범위(제약조건) 포함해야하는데 파일처리시스템은 이런 기능이 없다.(e.g> 수강신청과목 18학점으로 제한)</br>
  * __동시 접근의 문제__ </br>
    - 동일 데이터에 다수 사용자의 접근 허용시 파일처리시스템은 제약시스템이 없기 때문에 일관성이 훼손된다.
    - 은행데이터(1000원)에 두 명의 고객이 동시 접근할 때 고객A는 500원 출금, 고객B는 1000원 입금 할때에 결과는? 
       
### 2. 데이터베이스의 특징

  #### 1. 데이터베이스 사용의 의미
  데이터의 관리에 애플리케이션의 직접접근이 가능했던 파일처리시스템과 다르게 그 중간자로 데이터베이스를 두어 기존의 문제를 없앰
  #### 2. 데이터베이스의 특징
  - 데이터베이스 시스템의 자기 기술성
  - 프로그램과 데이터의 격리 및 추상화
  - 다중 뷰 제공
  - 데이터 공유와 다수 사용자 트랜잭션 처리
    하나의 논리적 잡업을 처리하기 위한 일련의 데이터베이스 명령의 집합 (e.g> 동시접근할 수 없도록 하나의 트랜잭션 업무처리가 완료시까지 데이터를 일시잠금)
  
  #### 3. 데이터베이스 시스템의 구성
<img width="497" alt="Screenshot 2024-02-21 at 1 14 13 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/aa3b1c58-bc99-4429-8ee1-d36dde456761">

값(12), 데이터 (12,오늘,낮 최고기온), 메타데이터 (오늘, 낮 최고기온)

  #### 4. 데이터베이스의 3단계 구조 
  DBMS는 데이터의 추상화를 위해 외부-개념-내부 3단계로 구조화되며, 외부-개념 사상 과정에서 논리적 데이터 독립성, 개념-내부 사상을 통해 물리적 데이터 독립성이 확보된다.
  <img width="464" alt="Screenshot 2024-02-21 at 1 22 30 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/ea5709c7-50a7-4982-9c40-863cfa4cb5e8">
<img width="485" alt="Screenshot 2024-02-21 at 1 24 03 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/56500c90-2895-4ef8-9f9c-ba1f77fee654">

### 3. 데이터베이스의 구성요소
  #### 1. 데이터베이스 언어
  1. DBMS는 사용자가 데이터베이스를 쉽게 사용하고 다룰 수 있도록 언어 형태의 인터페이스를 제공
  2. 역할에 따라 종류의 언어로 구분
     - __데이터 정의 언어 DDL__ : 데이터베이스 객체를 생성,수정,삭제하기 위한 언어
     - __데이터 조작 언어 DML__ : 구조화된 데이터에 사용자가 접근 및 조작할 수 있도록 지원하는 언어(검색,삽입,삭제,수정)
  3. 현대 데이터베이스 언어는 자연어와 유사한 형태의 SQL로 표준화
     
  #### 2. 데이터베이스 시스템 아키텍처
  1. 중앙집중 방식: 단일 서버가 클라이언트 장치를 대신하여 작동 (과거 은행시스템)
  2. 분산시스템 방식: 클라이언트 장치 성능 향상으로 자체적인 처리 능력 보유, 클라이언트-서버 데이터베이스 시스템, 유지보수비용 절감 및 이식성 증가
---

# 데이터베이스 모델링 ER모델
## 데이터베이스 모델링의 이해
### 데이터 관리의 필요
- 비지니스적 관점 : 어떤 데이터를 저장해야 하는가?
- 컴퓨터 프로그래머 관점: 어떻게 데이터를 저장해야 하는가?

### 데이터베이스 시스템 구현과정

<img width="437" alt="Screenshot 2024-03-13 at 2 21 18 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/58315953-886c-485e-bc21-102b6116a74a"></br></br>

### 데이터베이스 모델링의 개념
  - 데이터의 의미를 파악하고, 데이터와 관여하는 업무프로세스를 개념적으로 정의,분석하는 작업
  - 모델링 단계
  
    <img width="475" alt="Screenshot 2024-03-13 at 2 25 03 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/938c80da-0fac-40f3-a0ce-b37a5b9636a5"></br></br>
    
    - 사용할 데이터를 선별해 DB에 체계적으로 구조화하여 저장,사용할 방법이 필요
    - 데이터 모델 : 의미, 데이터타입, 연산 등을 명시하기 위해 사용할 수 있는 개념들의 집합
    - 데이터 모델링: 실세계 일부분을 DBMS 가 지원하는 데이터 모델의 형태로 나타내는 과정

### 데이터 모델링의 단계
#### 1. 개념적 데이터 모델링
- 요구사항 해석 오류 방지
- 실세계 데이터를 개념적으로 일반화시켜, 데이터구조, 데이터타입, 속성, 관계, 제약조건 등을 이끌어내는 과정
#### 2. 논리적 데이터 모델링
- 특정 DBMS의 구현 모델에 맞춰 데이터를 표현하는 과정
- 데이터 정의 언어로 기술된 개념 스키마 생성
#### 3. 물리적 데이터 모델링
- 데이터베이스 파일의 내부 저장구조, 파일 구성, 인덱스, 접근 경로 등을 결정하는 과정

## 사용자 요구사항 분석
### 사용자 요구사항의 필요성
1. 사용자의 요구를 명세하지 않고 데이터베이스 설계 및 개발을 진행하는 경우
- 결과물의 완성도 저하 및 사용자 신뢰도 추락
- 개발후,발생하는 에러 수정에 많은 추가 비용 지출
2. 시스템의 대상이 되는 업무를 분석
- 정보 시스템의 데이터베이스가 신속하고 효과적으로 업무 처리를 지원
- 필요한 데이터를 저장 및 운용할 수 있는 구조개발

### 사용자 요구사항 분석
1. 데이터에 대한 충분한 사전 분석없이 적절한 설계가 불가능
- 데이터베이스의 활용 범위가 확대됨에 데이터베이스의 효율적 운용에 초점
- 데이터베이스의 구조가 점차 복잡해지고 수명 주기가 단축되고 때문에 신속, 정확성이 요구
2. 도출, 분석, 기록 단계로 수행
- 국제 표준화: IEEE-Std-830

### 사용자 요구사항 분석과정
<img width="464" alt="Screenshot 2024-03-13 at 2 40 31 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/1f791c01-0f95-4587-8aaa-969511085f71"></br></br>

- #### 요구사항 도출
  - 구축대상, 프로젝트 목표, 범위를 기준으로 조사범위를 결정
  - 업무관계자 인터뷰
  - 외부자료 수집 및 분석
- #### 요구사항 분석
  - 도출된 요구사항의 명확성, 완전성, 모호성 검증
  - 불완전한 부분이 존재할 경우 요구사항 도출단계 재수행
  - 요구사항을 분류하여 통합 또는 분리
- #### 요구사항 기록
  - 요구사항 목록 정리 및 관리자의 승인
  - 정리된 요구사항을 형식에 맞춰 문서화
  - 프로젝트 종료 때까지 반영 여부 지속적 관리 
---

## ER 모델
1. 개념적 모델링 단계에서 사용되는 데이터 모델
2. 실세계의 속성들로 이루어진 개체(entity)와 개체 사이의 관계(relationship)를 정형화 시킨 모델 3. 구성요소 : 개체집합, 관계집합, 속성

<img width="698" alt="Screenshot 2024-03-13 at 3 20 35 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/58862235-78a2-4d42-a23b-df8c76d78264">


### 개체집합
1. 개체(entity)
- 실세계에 존재하는 다른 객체와 구별되는 유무형의 사물
- 개체를 설명하는 여러 속성들로 구성
2. 개체 집합(entity set)
- 같은 속성을 공유하는 개체들의 모임
  
### 관계집합
1. 관계
- 개체와 개체 사이의 연관성
2. 관계 집합
- 개체 집합간의 전체적 연결관계

### 속성
1. 개체를 구체적으로 설명
2. 속성에 포함될 수 있는 값의 특성에 따라 여러 종류로 구분
- __1)단순속성 vs 복합속성__
  - 단순속성: 더 이상 작은 구성요소로 나눌 수 없는 속성 ('여자'를 쪼개어 '여''자'로 쪼개면 의미잃음)
  - 복합속성 : 더 작은 구성요소로 나눌 수 있는 속성 (생년월일을 년/월/일의 작은 의미단위로 나눌수 있음)
- __2)단일값 속성 vs 다중값 속성__
  - 단일값 속성 : 하나의 개체에 대해 단 하나의 값 만을 갖는 속성 (학생 한명당 하나의 학생번호, 이름을 가짐)
  - 다중값 속성: 하나의 개체에 대해 여러 개의 값을 갖는 속성(학생 한명이 여러개의 전화번호를 가질 수 있다.)
- __3)유도 속성 vs 저장속성__
  - 유도속성 : 다른 속성의 값으로부터 값이 유추될 수 있는 속성 (생년월일로부터 나이 연산 가능함)
  - 저장속성 : 유도 속성을 위해 사용될 수 있는 속성
- __널(null) 속성__
  
<img width="698" alt="Screenshot 2024-03-13 at 3 24 58 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/397aeee8-b690-4636-9e71-919a4693f98d"></br></br>

- ### 제약조건 (1. 사상수 /2. 참가 제약조건/ 3. 키 속성)
1. 데이터 모델은 데이터, 의미, 구조, 연관성 및 데이터의 조건을 표현하기 위한 도구
2. ER 모델은 개체와 __관계에 대한 표현의 정확성__ 을 위해 데이터가 항상 준수해야 하는 제약조건을 정의할 수 있는 방법을 제공
3. 제약조건(constraints)의 종류
- __1. 사상수(mapping cardinality)__ : 한 개체가 다른 개체와 몇개의 관계를 맺을 수 있는지 명시(일대일, 일대다, 다대일, 다대다)
  - __`일대일 1:1` 사상수 표현__
    <img width="443" alt="Screenshot 2024-03-13 at 2 58 08 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/b6019bbf-db8a-4c12-b573-0cc443d76a76">
  - __`일대다 1:N` 사상수 표현__
    <img width="481" alt="Screenshot 2024-03-13 at 2 58 45 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/6bb47b5e-28ed-4596-bac8-209345d15c20">
  - __`다대다 N:N` 사상수 표현__
    <img width="454" alt="Screenshot 2024-03-13 at 2 59 15 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/dd2a1b39-9bd7-43b1-8453-00fb71ce8131">

- __2. 참가 제약조건__
1. 전체적 참가: 어떤 개체 집합의 __모든 개체__ 가 관계 집합에 참여 하는 조건 => 이중실선
   - 교수-과목 사이의 '강의'관계를 맺기위해, 모든 과목은 '교수'가 필요함
   - 교수 없는 과목은 없으니까 => 전체적 참가
3. 부분적 참가: 어떤 개체 집합의 __일부 개체__ 가 관계 집합에 참여 하는 조건 => 실선
   - 교수-과목 사이의 '강의'관계를 맺기 위해, 모든 교수가 다 강의를 할 필요는 없음.
   - 연구교수일 경우도 있고, 안식년일 수도 있음 => 부분적 참가
     
<img width="381" alt="Screenshot 2024-03-13 at 3 00 46 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/ee5520e6-7c11-4435-af60-5c554f23d4d6"></br></br>

- __3. 키 속성__
1. `키(key)`: 각 개체를 구별하는데 사용되는 `유일한 값`을 가지는 속성의 집합
- 각 개체를 구별하여 찾는 역할
- 관계집합의 특정 관계를 찾는 역할
- 속성값 밑에 밑줄
  
<img width="120" alt="Screenshot 2024-03-13 at 3 01 35 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/b1ea9e2b-b3db-4d79-8935-b49fb0d37b30"></br></br>

### 특수 속성과 관계
1. 관계 집합의 속성: 두 개체 집합의 관계에서 생성되는 값을 저장하는 속성
2. 재귀적 관계: 한 개체 집합이 자기 자신과 관계 집합을 형성하는 관계
   
   <img width="441" alt="Screenshot 2024-03-13 at 3 07 43 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/0cc860fc-813d-423e-890d-2a6b20b71f57"></br></br>

### 특수 관계
1. 약한 개체 집합
- 개체의 존재 유무가 관계를 맺고 있는 개체의 존재에 종속되는 개체 집합
2. 강한 개체 집합
- 약한 개체 집합과 연결되는 일반 개체 집합


<img width="352" alt="Screenshot 2024-03-13 at 3 09 39 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/48ebe6bc-6a2f-421e-b2e6-e175278c5137"></br></br>

### ER 모델 기호 
  <img width="500" alt="Screenshot 2024-03-13 at 3 37 50 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/833e6579-26f5-4de8-bd91-4bd261a49d48"></br></br>

<img width="525" alt="Screenshot 2024-03-13 at 4 25 17 PM" src="https://github.com/lenn-dev/TIL/assets/37726487/ef1f2989-9d2e-4553-8a17-3b8ee4aa7709">

---
# 관계형 모델
